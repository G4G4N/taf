{
    "type": "object",
    "$id": "host_update.schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "properties": {
        "update": {
            "description": "A collection of all information related to the update process of a host (containing all authentication repositories linked to that host)",
            "type": "object",
            "properties": {
                "changed": {
                    "description": "Indicator if the repository was updated or not",
                    "type": "boolean"
                },
                "event": {
                    "description": "Event type - succeeded, changed, unchanged, failed, completed",
                    "type": "string"
                },
                "host_name": {
                    "description": "Name of the host whose update was attempted",
                    "type": "string"
                },
                "error_msg": {
                    "description": "Error message that was raised while updating the repository",
                    "type": "string"
                },
                "auth_repos": {
                    "type": "array",
                    "items": {
                        "$ref": "repo_update.schema.json#"
                    }
                },
                "custom": {
                    "description": "Additional host data",
                    "type": "object"
                }
            },
            "required": [
                "changed",
                "event",
                "host_name",
                "error_msg",
                "auth_repos"
            ],
            "additionalProperties": false
        },
        "state": {
            "type": "object",
            "properties": {
                "transient": {
                    "type": "object"
                },
                "persistent": {
                    "type": "object"
                }
            }
        },
        "config": {
            "description": "Additional configuration, loaded from config.json located inside the library root",
            "type": "object"
        }
    },
    "required": [
        "update"
    ],
    "additionalProperties": false
}